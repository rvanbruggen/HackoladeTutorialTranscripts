
# Tutorial 4 - Expert part 27 - Verify data model

[Tutorial 4 - Expert part 27 - Verify data model](https://community.hackolade.com/slides/slide/verify-data-model-41?fullscreen=1)

## Transcript of the video

hello everyone and welcome to another episode of our Accolade tutorial today we'll be talking about how you can now use Accolade and Accolade Studio to verify your data model against a set of predefined rules that's exactly what model verification entails we're going to try and verify the consistency and the quality of our data models by verifying the contents of those models against two things one being a glossary of class and Prime terms and two a set of Target specific attribute rules that verify for example the Precision or the scale of numeric attributes or for example the length of string attributes this is going to be applied to the business names right for non-target specific glossary based rules and to the technical names for Target specific and attribute based rules let's explore that a little bit more so first of all for the business names that we are going to be verifying here we should understand that these are actually Expressions that are describing a single data object and every one of these Expressions is going to consist of a number of different terms that can be categorized in three different categories the first category is what we call a class term this is the highest level of classification where we basically put the different Expressions that we find in a data object into a particular class so typically this would be the last word of the business name but it might also be a phrase it might be something like unit of measure for example this is something that defines the class of the expression of the data object that we are trying to verify and it typically identifies the general purpose of the data object then in order to make it a little bit more specific we will use prime terms Prime terms are the most important modifier of the class term right it's typically a single word or it might also be a phrase is like unit of measure it directly precedes the cluster and then thirdly we will have modifying terms right modifying terms that add important business information to the data object and that precede the prime term now it's important to understand that when we do model verification in Accolade Studio we are going to cover Prime and class terms we are going to ignore all of the modifiers all of the modifying terms that are not declared as class terms and the reason why we do that is because otherwise we would just get a crazy multiplication of different possibilities that will become impossible to work with now let's look at a specific example to make this a little bit clearer right so for example we have a data object that is concerned with a currency code and as you can see here it's color coded the code this is the main classification that we are working with here then we have a prime term a prime term that basically explains that we're not talking about any type of code we're talking about a currency code and we are going to apply all of our model verifications to these two terms to currency code all of the other modifying terms the orange bits that we have here component invoice amount currency code component total amount currency code unit price currency code all of these different modifying terms are not going to be considered in our model verification we are going to do the model verification based on the rules that apply to currency code therefore it should be clear that there's a lot of possible combinations here there's a lot of possible interdependencies between the different rules that you're going to specify and therefore we recommend that you experiment with a small glossary first you will see the complexity you will see the outcome of the model verification very very quickly and then make it more sophisticated as you go along right so the glossary verifications will check the business names in the model with the terms in the glossary file that glossary file is an extension of the existing abbreviations file that we may already have used in our naming conventions right so it essentially adds another column the synonyms that are to be prevented right multiple synonyms might be separated by a pipe character unlike naming conventions this file is the same for all Targets right and terms are checked for each and every object in our model so when we run the glossary verifications you will find that there are three different rules that are currently checked right so the validity of the term right if the business name contains terms that are not in the glossary it will be considered an invalid term inconsistent terms right so a combination of prime and class terms that are not in the glossary and then synonyms you know business names that contain synonyms of glossary terms right if the rules are not respected it will create an entry in the verification report which we will look at a little bit later right so the glossary verification will generate a verification report then we can start looking at the second type of model verification that packalate offers which are attribute verifications these verifications are specific to the plugin that you are using at this particular time in this particular model so it will check the technical order business names against user-defined properties and user defined property rules that are in a Target specific file right so the technical names are optional and potentially it might be using naming conventions using this file we're going to verify the technical name whether or not it's required the default value the data type the length precision and the scale of a a particular data object we will also check that the attribute matches the specification in this file and generate report entries for problems against that validation we will also check additional rules in that file right for example if a technical name conflicts with keywords or if there's an excessive technical name length all of these things are checked right and we might create proactive warnings for duplicate table names in the same schema duplicate couple names in the same table dangling relationships mismatched data types in relationships all of these types of things are validated in order to use the model verification and we will see this later on during our little demo here you will obviously have to configure the paths right where are you going to store the glossary file where is it going to pick up the attribute verification files where should it generate the model reports and then it will allow you to run this and you can specifically choose which rules you would want to have included in the report and what type of report or error should be created when a an invalid entry is found it will generate a CSV file right which you can then open in your favorite spreadsheet it looks a little bit like this you can you know look at this in different ways either in your code editor or in the spreadsheet or whatever right and then you can start the interpretation of that exception report obviously note that this report can be quite long so therefore our recommendation would be that you run this validation report iteratively right and start with the highest priority exceptions and then see what comes out what errors are reported and the reason why we say this is that we also know that some rules will depend on other rules you will get a Cascade of entries in the report and it may just be you know one particular problem that is causing a Cascade of other problems because you know if you have multiple rules that are being failed that will generate multiple lines in the report you might want to hide some specific guides from the report that's really easy all groups from columns for easier interpretation great let's um now take a look at how this looks in practice in a short little demo all right let's Jump Right In I'll be illustrating this model verification here using a data model that I've used before it's a mongodb data model of the Northwinds database the denormalized version of it as you can tell over here right the orders have been denormalized over here into a nested structure and what I'll be doing here is I'm going to be working with a very similar file to the one that we have used before in the naming conventions tutorial right in the naming conventions tutorial we had a CSV file right that looked like this one right we had a business name a technical name and an optional description right and you would have a linking between the business name and the technical name that was automated through the naming conventions well in the model verification functionality we're going to be working with two files one is the model glossary verification file and then the other one is the model attribute verification file right so the model glossary verification file is actually an extension of the naming conventions file here you have three columns right business name technical name and optional description in the model glossary verification we actually have four columns a business name technical name description and here on the side we have what we call the synonyms right which is where we will link these combinations of Business technical name to potential synonyms the example that I'll be using here is the email example right so email business name is spelled like this the technical name is spelled like that and there's a bunch of potential synonyms that we would want to verify the model against from this glossary and then the second file that I'll be using is this one over here where I have a set of rules you know of what's the attributes with a specific technical name would want to comply with right so email in this particular case would need to be a string of length 100 right and the model verification functionality is going to check that when I apply this particular file now you've got a view of the setup let's go over here in my Northwind model and what I'll do here is I'll actually add a property here right which is going to be an email property for employees right you have the business name which is capitalized and the technical name automatically decapitalize right and this is a string right with a particular format right and I'm actually going to give it a minimum and maximum length of 100 in line with what we have specified in our verifications file right but for our customers over here I'm going to also introduce a new property right which I'm also going to call email right but I'm actually going to misassign its data type right I'm going to have this as a numeric data type right which is obviously wrong but I'm trying to simulate what the model verification would look like what we'll do now is we'll go into tools right and say verify the data model and obviously here the recommendation is that we do this step by step right that we don't do this um in uh in one big go but for example we create a verification report for the glossary first and then for the fields afterwards right so you can select this really really easily right um why don't we do the glossary first now right so I'll submit this right and I'll create a glossary report here and then I'll actually do the other one in the same go right I'll unselect this one and say okay why don't we do this as an attribute verification over here right so now I have two reports and just for fun I'll create one big one as well just so we can um look at that very easily as well right so this is going to be the the one that I already had generated before and I'm overriding with this step right so what I'm doing now is I'll go and take a look at what this looks like right so let's open these files right so here we have the glossary report let's start with that one right and you see that actually what we have here is a lot of invalid terms reports why is that because some of the terms that I had defined over here right are actually now present in either the glossary or the data model right so I would probably want to you know modify this a little bit in a real world situation but you also see that there are two synonyms exceptions here right which are actually the ones that we will see over here right the email related ones right so you see them clearly uh highlighted over there so that's already great we'll see those over there so I'm going to open the attribute verification file here right which is the one that I've verified against this file over here and where I've actually indicated that an email is mandatorily required right it has to be a string of length 100 well in the verification it seems like we have found a number of issues here right like for example here this one here means that the attribute required rule was not validated same thing over here right so this one is actually the one that we have found in the um let me just verify this so this one is in the employees entity and the other ones are in the customers entity right and then we have a couple of other rules right invalid length and invalid data type right let's take a look here right yes indeed right so this one actually has the right data type and the right linked and all of that but it actually doesn't have the required box ticked right so that needs to be be fixed here and the other one over here is the wrong data type the wrong uh it hasn't got the mandatory requirement here it doesn't have the length obviously so I really need to do quite a bit of fixing here and make this an email of 100 and also make it mandatory right be before I would satisfy these rules right so if I run that report again I should have a much much better result so let's do that let's run this report again or this verification again right verify the data model just for the attributes and I'm going to save this as a V2 right replace the previous one right and now open that V2 report let's see what happens here and yes indeed it's actually empty because I have fixed these verification issues that I had over here great with that I'm going to wrap up this little demo and then we can transition to finalizing this tutorial that concludes our short little demo here for the model verification features in Hackley Studio obviously highly recommend you to take a look at our online documentation there's a very elaborate description of all the functionalities there and and everything that you've heard about in this tutorial please also take a look at the blog and the excellent book that we created together with our friends at mongod B and Steve hoberman on mongodb data modeling and schema design and always stay in touch with our LinkedIn page and our Twitter page and if you want to try the product then a general reminder that the Hackley studio is downloadable for free no credit card asked and you can take it for a spin at any point that's it thank you for paying attention any questions please reach out and otherwise I will wish you a wonderful rest of your day thank you